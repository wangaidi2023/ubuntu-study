[supervisord]
nodaemon=true  # 前台运行，避免容器退出
logfile=/var/log/supervisord.log
pidfile=/var/run/supervisord.pid

# 配置 SSH 服务进程
[program:sshd]
command=/usr/sbin/sshd -D
autorestart=true  # 进程崩溃自动重启
stdout_logfile=/var/log/sshd.log
stderr_logfile=/var/log/sshd.err

# ttyd 网页终端进程（关键配置）
[program:ttyd]
command=ttyd -p 7681 -u root -c jams:Sykes23 bash
autorestart=true
stdout_logfile=/var/log/ttyd.log
stderr_logfile=/var/log/ttyd.err

# 配置 Jupyter Lab 进程
[program:jupyter]
command=jupyter lab --ip=0.0.0.0 --port=8888 --allow-root --no-browser
autorestart=true
stdout_logfile=/var/log/jupyter.log
stderr_logfile=/var/log/jupyter.err
directory=/study  # Jupyter 工作目录
